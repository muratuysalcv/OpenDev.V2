<div class="content">
    <div id="example_title">
        <h1>Smooth Insert/Remove of Tabs</h1>
        You can add remove tabs quickly or with animation.
    </div>
    <div id="example_view"></div>
    <div id="example_code"></div>
</div>

<!--CODE-->
<div id="tabs" style="width: 100%"></div>
<br><br>
<button class="w2ui-btn" onclick="addTab()">Insert 1 Tab</button>
<button class="w2ui-btn" onclick="addTabs()">Insert 3 Tabs</button>
<button class="w2ui-btn" onclick="add3()">Append  3 Tabs</button>

<div style="height: 15px"></div>
<button class="w2ui-btn" onclick="removeTab()">Remove Last Tab</button>
<button class="w2ui-btn" onclick="removeTabs()">Remove All Inserted</button>

<!--CODE-->
<script type="module">
import { w2tabs, query } from '__W2UI_PATH__'

let ind = 1
let tabs = new w2tabs({
    box: '#tabs',
    name: 'tabs',
    active: 'first',
    tabs: [
        { id: 'first', text: 'First Tab', style: 'background-color: #dcf6ff' }
    ]
})

window.addTab = function() {
    tabs.insert('first', { id: 'tab'+ ind, text: 'Tab '+ ind, closable: true })
    ind++
}

window.addTabs = function() {
    tabs.insert('first', [
        { id: 'tab'+ ind, text: 'Tab '+ ind, closable: true },
        { id: 'tab'+ (ind+1), text: 'Tab '+ (ind+1), closable: true },
        { id: 'tab'+ (ind+2), text: 'Tab '+ (ind+2), closable: true }
    ])
    ind += 3
}

window.add3 = function() {
    tabs.add([
        { id: 'tab'+ind, text: 'Tab '+ ind, closable: true },
        { id: 'tab'+(ind+1), text: 'Tab '+ (ind+1), closable: true },
        { id: 'tab'+(ind+2), text: 'Tab '+ (ind+2), closable: true }
    ])
    ind += 3
}

window.removeTab = function() {
    if (ind == 1) return
    ind--
    tabs.clickClose('tab'+ ind)
}

window.removeTabs = function() {
    let tb = tabs.get()
    tb.splice(tb.indexOf('first'), 1)
    tabs.remove.apply(tabs, tb)
    ind = 1
}
</script>
